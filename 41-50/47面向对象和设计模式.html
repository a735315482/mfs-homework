<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>47</title>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js" type="text/javascript"></script>
</head>

<body>
    <script>
        function BackTop() {

        }

        var ele = $(".back-top")
        new BackTop(ele)

        function BackTop($node) {
            var timer;
            $node.on("click", function() {
                window.scrollTo(0, 0);
            })
            window.onscroll = function() {
                console.log("onscroll")

                // 防止事件过多
                clearTimeout(timer)
                timer = setTimeout(function() {
                    var windowH = $(window).height();
                    var scrollTop = $(window).scrollTop();
                    if (scrollTop > windowH * 0.5) {
                        $node.addClass("show")
                    }
                    if (scrollTop < windowH * 0.5) {
                        $node.removeClass("show")
                    }
                }, 50)
            }
        }

        function instanceOf(obj, clazz) {
            if (obj.__proto__ == obj.prototype)
                return true;
            else
                return false;
        }

        function Animal(kind) {
            var animal;
            if (kind == "dog") {
                animal = new Dog();
            } else if (kind == "cat") {
                animal = new Cat();
            }

            animal.bark = function() {
                console.log(this.voice + " from " + this.name + "!");
            }
            return animal;
        }

        function Dog() {
            this.voice = "旺旺";
            this.name = "dog";
        }

        function Cat() {
            this.voice = "喵喵";
            this.name = "cat";
        }

        var animal1 = Animal("dog");
        var animal2 = Animal("cat");
        animal1.bark();
        animal2.bark();
    </script>

    <script>
        function Candy(num) {
            this.num = num;
        };
        Candy.prototype.getNum = function() {
            return this.num;
        }
        Candy.getInstance = function() {
            if (!this.instance) {
                this.instance = new Candy();
            }
            return this.instance;

        }
        var candy1 = Candy.getInstance();
        var candy2 = Candy.getInstance();
        console.log(candy1 == candy2);
    </script>

    <script>
        function _Animal(name) {
            this.name = name;
        }
        _Animal.prototype.eat = function() {

        }
        _Animal.prototype.sleep = function() {

        }
        _Animal.prototype.getName = function() {
            return this.name;
        }

        function Human(name) {
            _Animal.call(this, name);
            this.name = name;
        }
        Human.prototype = Object.create(_Animal.prototype);
        Human.prototype.eat = function() {
            console.log("Human's eating!");
        }
        Human.prototype.sleep = function() {
            console.log("Human's sleeping!");
        }

        function Dog(name) {
            _Animal.call(this, name);
            this.name = name;
        }
        Dog.prototype = Object.create(_Animal.prototype);
        Dog.prototype.eat = function() {
            console.log("Dog's eating!");
        }
        Dog.prototype.sleep = function() {
            console.log("Dog's sleeping!");
        }

        var human = new Human("Bob");
        var dog = new Dog("Wangcai");
        console.log(human.getName());
        human.eat();
        human.sleep();
        console.log(dog.getName());
        dog.eat();
        dog.sleep();
    </script>
</body>

</html>